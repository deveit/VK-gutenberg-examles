"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function _iterableToArrayLimit(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o,n,s=[],r=!0,a=!1;try{for(i=i.call(e);!(r=(o=i.next()).done)&&(s.push(o.value),!t||s.length!==t);r=!0);}catch(e){a=!0,n=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,i,o,n,s,r){try{var a=e[s](r),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(o,n)}function _asyncToGenerator(a){return function(){var e=this,r=arguments;return new Promise(function(t,i){var o=a.apply(e,r);function n(e){asyncGeneratorStep(o,t,i,n,s,"next",e)}function s(e){asyncGeneratorStep(o,t,i,n,s,"throw",e)}n(void 0)})}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function o(n,s,r){function a(i,e){if(!s[i]){if(!n[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(l)return l(i,!0);throw new Error("Cannot find module '"+i+"'")}t=s[i]={exports:{}};n[i][0].call(t.exports,function(e){var t=n[i][1][e];return a(t||e)},t,t.exports,o,n,s,r)}return s[i].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)a(r[e]);return a}({1:[function(e,t,i){var n,o,s,r,a,l;n=jQuery,o={vimeo:{muted:!1,loop:!0,autoplay:!1,controls:!1},inputs:{progressInput:"#setTime",volumeInput:".volume"},ui:{progress:".currentPlay",volume:".volumeProg",currentTime:".status",totalTime:".total-time",sound:".speaker .sound",mute:".speaker .mute",play:".play",videoCover:".video-cover-image",pause:".pause"}},s=jQuery(window),r=jQuery(".mobile-cover-video"),a=jQuery(".back-link"),l=function(){function o(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,o),_defineProperty(this,"id",void 0),_defineProperty(this,"options",{}),_defineProperty(this,"progressMousedown",!1),_defineProperty(this,"$mobileBgVideo",void 0),_defineProperty(this,"player",void 0),_defineProperty(this,"duration",void 0),_defineProperty(this,"currentTime",void 0),_defineProperty(this,"volume",.75),_defineProperty(this,"$window",void 0),"string"==typeof e&&"object"===_typeof(i)&&n("#".concat(e)).length&&(this.id=e,this.options=i,this.$window=s,this.$mobileBgVideo=r,this.$backLink=a,this.isMobile()&&(this.options.vimeo.autoplay=!1),this.events(),this.initPlayer().then(function(){t.playerEvents(),t.changeVolume(t.options.vimeo.muted?0:t.volume)}),this.maybePauseMobileBgVideo())}var e,t;return _createClass(o,[{key:"initPlayer",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.player=new Vimeo.Player(this.id,this.options.vimeo),e.next=3,this.defineDuration();case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"defineDuration",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.getDuration();case 2:this.duration=e.sent,n(this.options.inputs.progressInput+", "+this.options.ui.progress).attr("max",this.duration),n(this.options.ui.totalTime).text(function(){return t.toHHMMSS(t.duration)});case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"events",value:function(){this.$backLink.on("click",function(){sessionStorage.setItem("returned-from-single-video",!0)})}},{key:"playerEvents",value:function(){var t=this;this.player.on("loaded",function(){t.updateProgress(0),t.options.vimeo.autoplay||t.showPlayButton(),t.options.vimeo.autoplay&&t.showPauseButton()}),n(this.options.inputs.progressInput).on("mousedown",function(){t.progressMousedown=!0}).on("mouseup",function(){t.progressMousedown=!1}).change(function(e){e=n(e.currentTarget).val();t.player.setCurrentTime(e),t.updateProgress(e)}),n(this.options.inputs.volumeInput).on("input change",function(e){t.changeVolume(n(e.currentTarget).val())}),this.player.on("timeupdate",function(e){t.progressMousedown||t.updateProgress(e.seconds)}),this.player.on("volumechange",function(e){return t.updateVolume(e.volume)}),n(this.options.ui.sound).click(function(){return t.soundOff()}),n(this.options.ui.mute).click(function(){return t.soundOn()}),this.player.on("play",this.showPauseButton.bind(this)),n(this.options.ui.play).click(this.play.bind(this)),this.player.on("pause",this.showPlayButton.bind(this)),n(this.options.ui.pause).click(this.pause.bind(this)),this.$window.on("resize",function(){t.isMobile()&&t.pause(),t.maybePauseMobileBgVideo()}),this.player.on("play",function(){return n(t.options.ui.videoCover).hide()}),this.$window.on("keydown",function(e){32===e.originalEvent.keyCode&&t.player.getPaused().then(function(e){e?t.play():t.pause()})})}},{key:"play",value:function(){this.player.play()}},{key:"pause",value:function(){this.player.pause()}},{key:"showPauseButton",value:function(){n(this.options.ui.play).hide(),n(this.options.ui.pause).show()}},{key:"showPlayButton",value:function(){n(this.options.ui.play).show(),n(this.options.ui.pause).hide()}},{key:"soundOn",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5;this.player.setVolume(e),n(this.options.ui.sound).show(),n(this.options.ui.mute).hide(),n(this.options.inputs.volumeInput+", "+this.options.ui.volume).val(e)}},{key:"soundOff",value:function(){this.player.setVolume(0),n(this.options.ui.sound).show(),n(this.options.ui.mute).hide(),n(this.options.inputs.volumeInput+", "+this.options.ui.volume).val(0)}},{key:"changeVolume",value:function(e){this.player.setVolume(e)}},{key:"updateVolume",value:function(e){this.volume=e,n(this.options.ui.volume+", "+this.options.inputs.volumeInput).val(e)}},{key:"updateProgress",value:function(e){this.currentTime=e,n(this.options.inputs.progressInput+", "+this.options.ui.progress).val(e),n(this.options.ui.currentTime).text(this.toHHMMSS(Math.round(e)))}},{key:"toHHMMSS",value:function(e){e=parseInt(e,10);return[Math.floor(e/3600),Math.floor(e/60)%60,e%60].map(function(e){return e<10?"0"+e:e}).filter(function(e,t){return"00"!==e||0<t}).join(":")}},{key:"isMobile",value:function(){return this.$window.width()<768}},{key:"maybePauseMobileBgVideo",value:function(){this.$mobileBgVideo.length&&(this.isMobile()?this.$mobileBgVideo[0].play():this.$mobileBgVideo[0].pause())}}]),o}(),n(document).ready(function(){return new l("vimeo",o)})},{}],2:[function(e,t,i){var s,o;s=jQuery,o=function(){function t(e){_classCallCheck(this,t),this.$section=e,this.$window=s(window),this.$stickyToggle=this.$section.find(".video-category-filter-list-sticky-toggle"),this.$stickyFilterList=this.$section.find(".video-category-filter-list-sticky"),this.$topFiltersList=this.$section.find(".video-category-filter-list").first(),this.$filters=this.$section.find(".video-filter"),s(document).ready(this.maybeSelectFilter.bind(this)),this.$window.on("load scroll",this.maybeScroll.bind(this)),this.$stickyToggle.on("click",this.toggleOnClick.bind(this)),this.$section.on("ajax-loaded",this.refreshOffset.bind(this)),this.$window.on("load scroll resize",this.windowOnChange.bind(this)),this.$window.on("resize",this.refreshOffset.bind(this)),this.$filters.on("click",this.filtersOnClick.bind(this)),this.refreshOffset()}return _createClass(t,[{key:"refreshOffset",value:function(){this.topOffset=this.$topFiltersList.offset().top,this.bottomOffset=this.$section.offset().top+this.$section.height()+160}},{key:"toggleOnClick",value:function(){this.$stickyFilterList.hasClass("video-category-filter-list-sticky--visible")?(this.hideFilters(),this.windowOnChange()):this.showFilters()}},{key:"windowOnChange",value:function(){var e=this.$window.scrollTop(),t=e+this.$window.height();if(767<this.$window.width())return this.hideToggle(),void this.hideFilters();e>this.topOffset&&t<this.bottomOffset?this.showToggle():(this.hideToggle(),this.hideFilters())}},{key:"filtersOnClick",value:function(e){e.preventDefault();var t=s(e.currentTarget).data("video-category-slug"),i=this.$section.find('[data-video-category-slug="'.concat(t,'"]')),o=this.$section.find(".ajax-reload-videos"),n=i.hasClass("active"),e=[];this.$filters.removeClass("active"),n||(i.addClass("active"),e.push(t)),sessionStorage.setItem("video-category-filter",JSON.stringify(e)),o.addClass("active"),s.ajax({url:the_ajax_script.ajaxurl,type:"post",data:{action:"filter_by_video_category",video:e},success:function(e){o.html(e),o.removeClass("active"),this.$section.trigger("ajax-loaded")}.bind(this)})}},{key:"maybeSelectFilter",value:function(){var e=Boolean(sessionStorage.getItem("returned-from-single-video")),t=sessionStorage.getItem("video-category-filter");sessionStorage.removeItem("video-category-filter"),e&&"string"==typeof t&&(t=JSON.parse(t)[0],this.$topFiltersList.find('[data-video-category-slug="'.concat(t,'"]')).click())}},{key:"maybeScroll",value:function(){Boolean(sessionStorage.getItem("returned-from-single-video"))&&this.$window.scrollTop(this.$section.offset().top),setTimeout(function(){return sessionStorage.removeItem("returned-from-single-video")},1e3)}},{key:"showFilters",value:function(){this.$stickyFilterList.addClass("video-category-filter-list-sticky--visible")}},{key:"hideFilters",value:function(){this.$stickyFilterList.removeClass("video-category-filter-list-sticky--visible")}},{key:"showToggle",value:function(){this.$stickyToggle.addClass("video-category-filter-list-sticky-toggle--visible")}},{key:"hideToggle",value:function(){this.$stickyToggle.removeClass("video-category-filter-list-sticky-toggle--visible")}}]),t}(),s(document).ready(function(){s(".video-list-section").each(function(){return new o(s(this))})})},{}],3:[function(e,t,i){e("./class-video-section"),e("./class-video-player"),function(r){function a(){var e=r(".hero-section .hero-video"),t=r(window).innerHeight(),i=r(".hero-section").outerHeight()-r(".hero-section").height(),o=r(".hero-section .light-frame").outerHeight()-r(".hero-section .light-frame").height(),n=r(".hero-section .custom-heading").height();e.css({height:t-i-o-(n+16)})}var e=!1;r(window).resize(function(){e=!0}),setInterval(function(){e&&(e=!1,a())},150);function l(){var e=r(".resize-img .hero-image"),t=r(window).height(),i=r(".resize-img").outerHeight()-r(".resize-img").height(),o=r(".resize-img .light-frame").outerHeight()-r(".resize-img .light-frame").height(),n=parseInt(r(".resize-img .custom-heading").css("marginBottom")),s=parseInt(r(".resize-img .custom-heading").css("marginTop")),s=t-i-o-r(".resize-img .custom-heading").height()-n-s;e.css({"max-height":s,height:s})}var t=!1;r(window).resize(function(){t=!0}),setInterval(function(){t&&(t=!1,l())},150);function u(){var e=r(".video-info .video-row"),t=r(".video-info .related-video").outerHeight(),i=r(".video-info .video-text").outerHeight(),i=Math.max(t,i);e.css({"min-height":i})}var i=!1;r(window).resize(function(){i=!0}),setInterval(function(){i&&(i=!1,u())},150);r(document).ready(function(){var e,t;a(),l(),u(),e=r(".height-100vh"),t=window.innerHeight,e.css({"min-height":t+"px"});var i=1,o=setInterval(s,500),n=r(".show-on-move");function s(){4==i&&(n.fadeOut(),i=1),i+=1}r(document).on("mousemove",function(){n.fadeIn(),i=1,clearInterval(o),o=setInterval(s,500)}),0<r("#file").length&&document.querySelector("#file").addEventListener("change",function(e){var t=_slicedToArray(e.target.files,1)[0],e=t.name,t=(t.size/1e3).toFixed(2),t="".concat(e," - ").concat(t,"KB");document.querySelector(".file-name").textContent=t}),r(".wpcf7-form select").selectric(),r("#nav-icon2").click(function(e){e.preventDefault(),r(this).toggleClass("open"),r(".top-bar").slideToggle()}),r(".menu-list-item").on("click",function(e){e.preventDefault();var t=r(this).data("id"),e=r("#list-item-text-id-"+t);r(".menu-list-item").not(this).removeClass("active"),r(this).hasClass("active")?r(this).removeClass("active"):r(this).toggleClass("active"),r(".list-item-text").not(e).hide(),r("#list-item-text-id-"+t).show()}),r(".show-related-video").click(function(e){e.preventDefault();var i=r(this).data("text-1"),o=r(this).data("text-2");r(this).text(function(e,t){return t===i?o:i}),r(".video-text").toggleClass("hidden"),r(".related-video").toggleClass("active")}),r(".mobile-show-video-info").click(function(e){e.preventDefault(),r(".mobile-show-related-video").removeClass("active"),r(this).addClass("active"),r(".video-text").slideDown(),r(".related-video").slideUp()}),r(".mobile-hide-video-info").click(function(e){e.preventDefault(),r(".video-text").slideUp(),r(".mobile-show-video-info").removeClass("active")}),r(document).on("mouseover",".video-list-item-content",function(e){e=r(e.currentTarget);e.find("video")[0].play(),e.find("img").stop().fadeOut()}).on("mouseleave",".video-list-item-content",function(e){e=r(e.currentTarget);e.find("video")[0].pause(),e.find("img").stop().fadeIn()}),r(document).on("click",".video-list-item-content",function(e){r(window).width()<768&&!r(this).hasClass("is-mobile-hovered")&&(e.preventDefault(),r(this).addClass("is-mobile-hovered"))}).on("blur",".video-list-item-content",function(){r(this).removeClass("is-mobile-hovered")}),r(".mobile-show-related-video").click(function(e){e.preventDefault(),r(".mobile-show-video-info").removeClass("active"),r(this).addClass("active"),r(".video-text").slideUp(),r(".related-video").slideDown().addClass("clearfix")}),r(".mobile-hide-related-video").click(function(e){e.preventDefault(),r(".related-video").slideUp(),r(".mobile-show-related-video").removeClass("active"),r(".mobile-show-related-video").removeClass("active")}),r('a[href*="#"]:not([data-fancybox]').click(function(e){var t=r(this).attr("href"),i=window.location.href,o=t.split("#").pop(),o=r("#"+o);"#"!=t&&o.length&&(t.split("#")[0]!=i.split("#")[0]&&0!=t.indexOf("#")||(e.preventDefault(),r("html, body").animate({scrollTop:o.offset().top},500)))}),0<r(".mobile-cover-video").length&&r(".play-for-mobile").on("click",function(){r(".mobile-cover-video")[0].pause()}),r("[data-fancybox]").fancybox({youtube:{showinfo:0},vimeo:{color:"f00"},afterClose:function(){0<r(".mobile-cover-video").length&&r(".mobile-cover-video")[0].play()}})}),r(window).on("load",function(){setTimeout(function(){r(".preloader").addClass("preloader--hidden")},1500)}),r(window).resize(function(){})}(jQuery)},{"./class-video-player":1,"./class-video-section":2}]},{},[3]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMubWluLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJFcnJvciIsImYiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwib3B0aW9ucyIsIiR3aW5kb3ciLCIkbW9iaWxlQmdWaWRlbyIsIiRiYWNrTGluayIsIlZpZGVvX1BsYXllciIsImpRdWVyeSIsInZpbWVvIiwibXV0ZWQiLCJhdXRvcGxheSIsImNvbnRyb2xzIiwicHJvZ3Jlc3NJbnB1dCIsInZvbHVtZUlucHV0IiwidWkiLCJ2b2x1bWUiLCJjdXJyZW50VGltZSIsInBsYXllciIsInNvdW5kIiwibXV0ZSIsInBsYXkiLCJ2aWRlb0NvdmVyIiwicGF1c2UiLCJ3aW5kb3ciLCJpZCIsIl90aGlzIiwidGhpcyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0eSIsIl90eXBlb2YiLCJjb25jYXQiLCJpc01vYmlsZSIsImV2ZW50cyIsImluaXRQbGF5ZXIiLCJ0aGVuIiwicGxheWVyRXZlbnRzIiwiY2hhbmdlVm9sdW1lIiwibWF5YmVQYXVzZU1vYmlsZUJnVmlkZW8iLCJfZGVmaW5lRHVyYXRpb24iLCJfaW5pdFBsYXllciIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiVmltZW8iLCJQbGF5ZXIiLCJkZWZpbmVEdXJhdGlvbiIsInN0b3AiLCJhcHBseSIsIl9jYWxsZWUyIiwiX3RoaXMyIiwiX2NvbnRleHQyIiwiZ2V0RHVyYXRpb24iLCJkdXJhdGlvbiIsInNlbnQiLCJpbnB1dHMiLCJwcm9ncmVzcyIsImF0dHIiLCJ0b3RhbFRpbWUiLCJ0ZXh0IiwidG9ISE1NU1MiLCJvbiIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsIl90aGlzMyIsInVwZGF0ZVByb2dyZXNzIiwic2hvd1BsYXlCdXR0b24iLCJzaG93UGF1c2VCdXR0b24iLCJwcm9ncmVzc01vdXNlZG93biIsImNoYW5nZSIsInNlYyIsImN1cnJlbnRUYXJnZXQiLCJ2YWwiLCJzZXRDdXJyZW50VGltZSIsImRhdGEiLCJzZWNvbmRzIiwidXBkYXRlVm9sdW1lIiwiY2xpY2siLCJzb3VuZE9mZiIsInNvdW5kT24iLCJiaW5kIiwiaGlkZSIsIm9yaWdpbmFsRXZlbnQiLCJrZXlDb2RlIiwiZ2V0UGF1c2VkIiwicGF1c2VkIiwic2hvdyIsInNldFZvbHVtZSIsIk1hdGgiLCJyb3VuZCIsInNlY3MiLCJzZWNfbnVtIiwicGFyc2VJbnQiLCJmbG9vciIsIm1hcCIsInYiLCJmaWx0ZXIiLCJqb2luIiwiZG9jdW1lbnQiLCJyZWFkeSIsIjIiLCJWaWRlb19TZWN0aW9uIiwiJGVsZW1lbnQiLCIkc2VjdGlvbiIsIiRzdGlja3lUb2dnbGUiLCJmaW5kIiwiJHN0aWNreUZpbHRlckxpc3QiLCIkdG9wRmlsdGVyc0xpc3QiLCJmaXJzdCIsIiRmaWx0ZXJzIiwibWF5YmVTZWxlY3RGaWx0ZXIiLCJtYXliZVNjcm9sbCIsInRvZ2dsZU9uQ2xpY2siLCJyZWZyZXNoT2Zmc2V0Iiwid2luZG93T25DaGFuZ2UiLCJmaWx0ZXJzT25DbGljayIsInRvcE9mZnNldCIsIm9mZnNldCIsInRvcCIsImJvdHRvbU9mZnNldCIsImhlaWdodCIsImhhc0NsYXNzIiwiaGlkZUZpbHRlcnMiLCJzY3JvbGxUb3AiLCJ3aW5kb3dCb3R0b21UcmlnZ2VyIiwid2luZG93VG9wVHJpZ2dlciIsImhpZGVUb2dnbGUiLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdGVkU2x1ZyIsIiRzYW1lRmlsdGVycyIsIiRhamF4Q29udGFpbmVyIiwiaXNBY3RpdmUiLCJjYXRBcnIiLCJhZGRDbGFzcyIsInB1c2giLCJKU09OIiwic3RyaW5naWZ5IiwiYWpheCIsInRoZV9hamF4X3NjcmlwdCIsImFqYXh1cmwiLCJ0eXBlIiwiYWN0aW9uIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJ3aWR0aCIsInJlbW92ZUNsYXNzIiwidHJpZ2dlciIsInJldHVybmVkIiwiQm9vbGVhbiIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwicGFyc2UiLCIzIiwidmlkZW9IZWlnaHQiLCJoZXJvVmlkZW8iLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsIm9yYW5nZUZyYW1lUGFkZGluZyIsIm91dGVySGVpZ2h0IiwicGFwZXJGcmFtZVBhZGRpbmciLCJ0aXRsZUhlaWdodCIsImNzcyIsImRpZFJlc2l6ZSIsInJlc2l6ZSIsInNldEludGVydmFsIiwiaW1hZ2VIZWlnaHQiLCJ0aXRsZU1hcmdpbiIsInRpdGxlTWFyZ2luVG9wIiwibWF4SGVpZ2h0IiwibWF4LWhlaWdodCIsInJlc2l6ZUltYWdlIiwibWluSGVpZ2h0VmlkZW9JbmZvIiwidmlkZW9UZXh0SGVpZ2h0IiwibWF4IiwicmVsYXRlZFZpZGVvSGVpZ2h0IiwidmlkZW9Sb3ciLCJtaW4taGVpZ2h0IiwidXJsIiwicmVzaXplVmlkZW8iLCJzZWN0aW9uIiwidmgiLCJ0aW1lZGVsYXkiLCJfZGVsYXkiLCJzaG93T25Nb3ZlIiwiZGVsYXlDaGVjayIsImZhZGVPdXQiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwiY2xlYXJJbnRlcnZhbCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZmlsZSIsIl9zbGljZWRUb0FycmF5IiwidGFyZ2V0IiwiZmlsZXMiLCJmaWxlTmFtZSIsIm5hbWUiLCJmaWxlU2l6ZSIsInNpemUiLCJ0b0ZpeGVkIiwiZmlsZU5hbWVBbmRTaXplIiwidGV4dENvbnRlbnQiLCJzZWxlY3RyaWMiLCJlYWNoIiwidG9nZ2xlQ2xhc3MiLCJzbGlkZVRvZ2dsZSIsInRoaXNUZXh0IiwidGV4dElEIiwibm90IiwidGV4dFN0YXJ0IiwidGV4dENoYW5nZSIsInNsaWRlRG93biIsInNsaWRlVXAiLCIkdGhpcyIsImV2ZW50IiwiaHJlZiIsImN1cnJlbnRfdXJsIiwibG9jYXRpb24iLCJibG9ja19pZCIsInNwbGl0IiwicG9wIiwiYmxvY2siLCJpbmRleE9mIiwiZmFuY3lib3giLCJ5b3V0dWJlIiwic2hvd2luZm8iLCJjb2xvciIsImFmdGVyQ2xvc2UiXSwibWFwcGluZ3MiOiJveUVBQUEsU0FBVUEsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxTQUFTQyxFQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsSUFBSUUsRUFBa0IsbUJBQVRDLFNBQXFCQSxRQUFRLElBQUlGLEdBQUdDLEVBQUUsT0FBT0EsRUFBRUYsR0FBRSxHQUFJLEdBQUdJLEVBQUUsT0FBT0EsRUFBRUosR0FBRSxHQUFJLE1BQU0sSUFBSUssTUFBTSx1QkFBdUJMLEVBQUUsS0FBU00sRUFBRVQsRUFBRUcsR0FBRyxDQUFDTyxRQUFRLElBQUlYLEVBQUVJLEdBQUcsR0FBR1EsS0FBS0YsRUFBRUMsUUFBUSxTQUFTWixHQUFHLElBQUlFLEVBQUVELEVBQUVJLEdBQUcsR0FBR0wsR0FBRyxPQUFPSSxFQUFFRixHQUFJRixJQUFJVyxFQUFFQSxFQUFFQyxRQUFRWixFQUFFQyxFQUFFQyxFQUFFQyxHQUFHLE9BQU9ELEVBQUVHLEdBQUdPLFFBQWtELElBQTFDLElBQUlILEVBQWtCLG1CQUFURCxTQUFxQkEsUUFBZ0JILEVBQUUsRUFBRUEsRUFBRUYsRUFBRVcsT0FBT1QsSUFBSUQsRUFBRUQsRUFBRUUsSUFBSSxPQUFPRCxFQUFyWixDQUF5WixDQUFDVyxFQUFFLENBQUMsU0FBU1AsRUFBUVEsRUFBT0osR0FDcmIsSUFBVUssRUFBT0MsRUFBU0MsRUFBU0MsRUFBZ0JDLEVBQ3pDQyxFQURBTCxFQXFOVk0sT0FyTmlCTCxFQXdGZ0MsQ0FBQU0sTUFBQSxDQWlJekNDLE9BQU8sRUE5SEhSLE1BQUUsRUFBNkJTLFVBQUEsRUFBQUMsVUFFL0IsR0FDQVYsT0FBQUEsQ0FBOEJXLGNBQU0sV0FB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VUFDQTFKLEVBQUEsOEJBQUEwSixZQUFBLFlBa0JHMUosRUFBQSxvQ0FBQXFGLE1BQUEsU0FBQTBJLEdBRUMsSUE4SU9DLEVBOUlJM0osRUFBRzVDLE1BOElNd0MsS0FBSyxRQTVJMUJnSyxFQUFBM00sT0FBc0I0TSxTQUFBRixLQUNyQkcsRUFBYUgsRUFBYkksTUFBb0IsS0FBQUMsTUFDbkJyQyxFQUFBQSxFQUFXRSxJQUFBQSxHQUNGLEtBQVRKLEdBQUF3QyxFQUFBek8sU0FDQW1PLEVBQUFJLE1BQUEsS0FBQSxJQUFBSCxFQUFBRyxNQUFBLEtBQUEsSUFBQSxHQUFBSixFQUFBTyxRQUFBLE9BOElJUixFQUFNeEYsaUJBN0lYdUQsRUFBQUEsY0FBWUEsUUFBWixDQUNBM0QsVUFBQW1HLEVBQUF6RyxTQUFBQyxLQStJUSxTQXpJWSxFQUFwQmlFLEVBQUFBLHVCQUFxQkUsUUFDckJqTSxFQUFBLG9CQUFBcUUsR0FBQSxRQUFBLFdBK0lJckUsRUFBRSx1QkFBdUIsR0FBR3FCLFVBMUloQ3JCLEVBQUEsbUJBQUF3TyxTQUFBLENBQ0FDLFFBQUEsQ0FBQUMsU0FBQSxHQWlKR25PLE1BQVEsQ0EvSVhvTyxNQUFjL0IsT0FrSlhnQyxXQUFZLFdBaEpFLEVBQWpCNU8sRUFBTThNLHVCQUFXak4sUUFrSlpHLEVBQUUsdUJBQXVCLEdBQUdtQixZQXJJakNuQixFQUFBQSxRQUFFcUUsR0FBRixPQUFRZ0osV0FFUmxCLFdBSkQsV0FPQW5NLEVBQUFBLGNBQUU2SSxTQUFtQnhFLHNCQUlwQnJFLFFBT0FBLEVBQUFBLFFBQUU0SyxPQUFBLGNBL1JJLENBeVNMdEssU0FFRE4sQ0FBQUEsdUJBQUEsRUFBaUJxTix3QkFBakIsS0FBQSxHQUFBLENBQUEiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24oJCwgaWQsIG9wdGlvbnMsICR3aW5kb3csICRtb2JpbGVCZ1ZpZGVvLCAkYmFja0xpbmspIHtcbiAgICBjbGFzcyBWaWRlb19QbGF5ZXIge1xuICAgICAgICBpZDtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICBwcm9ncmVzc01vdXNlZG93biA9IGZhbHNlO1xuICAgICAgICAkbW9iaWxlQmdWaWRlbztcbiAgICAgICAgcGxheWVyO1xuICAgICAgICBkdXJhdGlvbjtcbiAgICAgICAgY3VycmVudFRpbWU7XG4gICAgICAgIHZvbHVtZSA9IDAuNzU7XG4gICAgICAgICR3aW5kb3c7XG4gICAgICAgIFxuICAgICAgICBjb25zdHJ1Y3RvciggaWQsIG9wdGlvbnMgPSB7fSApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyB8fCAhJChgIyR7aWR9YCkubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RhdGVcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93O1xuICAgICAgICAgICAgdGhpcy4kbW9iaWxlQmdWaWRlbyA9ICRtb2JpbGVCZ1ZpZGVvO1xuICAgICAgICAgICAgdGhpcy4kYmFja0xpbmsgPSAkYmFja0xpbms7XG5cblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy52aW1lby5hdXRvcGxheSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbml0XG4gICAgICAgICAgICB0aGlzLmV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5pbml0UGxheWVyKCkudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VWb2x1bWUodGhpcy5vcHRpb25zLnZpbWVvLm11dGVkID8gMCA6IHRoaXMudm9sdW1lKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm1heWJlUGF1c2VNb2JpbGVCZ1ZpZGVvKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFzeW5jIGluaXRQbGF5ZXIoKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBWaW1lby5QbGF5ZXIodGhpcy5pZCwgdGhpcy5vcHRpb25zLnZpbWVvKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVmaW5lRHVyYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jIGRlZmluZUR1cmF0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGF3YWl0IHRoaXMucGxheWVyLmdldER1cmF0aW9uKCk7XG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy5pbnB1dHMucHJvZ3Jlc3NJbnB1dCsgJywgJyArdGhpcy5vcHRpb25zLnVpLnByb2dyZXNzKS5hdHRyKCdtYXgnLCB0aGlzLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLnVpLnRvdGFsVGltZSkudGV4dCgoKSA9PiB0aGlzLnRvSEhNTVNTKHRoaXMuZHVyYXRpb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50cygpIHtcbiAgICAgICAgICAgIC8vQmFjayBsaW5rXG4gICAgICAgICAgICB0aGlzLiRiYWNrTGluay5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBmb3Igc2Nyb2xsXG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncmV0dXJuZWQtZnJvbS1zaW5nbGUtdmlkZW8nLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwbGF5ZXJFdmVudHMoKSB7XG4gICAgICAgICAgICAvLyBMb2FkXG4gICAgICAgICAgICB0aGlzLnBsYXllci5vbignbG9hZGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MoMCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudmltZW8uYXV0b3BsYXkpIHRoaXMuc2hvd1BsYXlCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZpbWVvLmF1dG9wbGF5KSB0aGlzLnNob3dQYXVzZUJ1dHRvbigpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENoYW5nZSBwcm9ncmVzc1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMuaW5wdXRzLnByb2dyZXNzSW5wdXQpXG4gICAgICAgICAgICAub24oJ21vdXNlZG93bicsICgpID0+IHsgdGhpcy5wcm9ncmVzc01vdXNlZG93biA9IHRydWU7IH0pXG4gICAgICAgICAgICAub24oJ21vdXNldXAnLCAoKSA9PiB7IHRoaXMucHJvZ3Jlc3NNb3VzZWRvd24gPSBmYWxzZTsgfSlcbiAgICAgICAgICAgIC5jaGFuZ2UoZSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHNlYyA9ICQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zZXRDdXJyZW50VGltZShzZWMpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3Moc2VjKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2Ugdm9sdW1lXG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy5pbnB1dHMudm9sdW1lSW5wdXQpLm9uKCdpbnB1dCBjaGFuZ2UnLCBlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVZvbHVtZSgkKGUuY3VycmVudFRhcmdldCkudmFsKCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFN5bmMgVUkgcHJvZ3Jlc3NcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm9uKCd0aW1ldXBkYXRlJywgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NNb3VzZWRvd24pIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKGRhdGEuc2Vjb25kcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3luYyBVSSB2YWx1ZVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIub24oJ3ZvbHVtZWNoYW5nZScsIHZvbHVtZSA9PiB0aGlzLnVwZGF0ZVZvbHVtZSh2b2x1bWUudm9sdW1lKSk7XG5cbiAgICAgICAgICAgIC8vIFR1cm4gc291bmQgb2ZmXG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy51aS5zb3VuZCkuY2xpY2soKCkgPT4gdGhpcy5zb3VuZE9mZigpKTtcblxuICAgICAgICAgICAgLy8gVHVybiBzb3VuZCBvblxuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMudWkubXV0ZSkuY2xpY2soKCkgPT4gdGhpcy5zb3VuZE9uKCkpO1xuXG4gICAgICAgICAgICAvLyBQbGF5XG4gICAgICAgICAgICB0aGlzLnBsYXllci5vbigncGxheScsIHRoaXMuc2hvd1BhdXNlQnV0dG9uLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMudWkucGxheSkuY2xpY2sodGhpcy5wbGF5LmJpbmQodGhpcykpO1xuICAgICAgICAgICBcblxuICAgICAgICAgICAgLy9QYXVzZVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIub24oJ3BhdXNlJywgdGhpcy5zaG93UGxheUJ1dHRvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLnVpLnBhdXNlKS5jbGljayh0aGlzLnBhdXNlLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICAvL1BhdXNlIG9uIHJlc2l6ZVxuICAgICAgICAgICAgdGhpcy4kd2luZG93Lm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVBhdXNlTW9iaWxlQmdWaWRlbygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vSGlkZSBjb3ZlciBpbWFnZVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIub24oJ3BsYXknLCAoKSA9PiAkKHRoaXMub3B0aW9ucy51aS52aWRlb0NvdmVyKS5oaWRlKCkpO1xuXG4gICAgICAgICAgICAvLyBQYXVzZSBvbiBzcGFjZSBidXR0b24gXG4gICAgICAgICAgICB0aGlzLiR3aW5kb3cub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQua2V5Q29kZSAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmdldFBhdXNlZCgpLnRoZW4ocGF1c2VkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5KCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGF1c2UoKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5wYXVzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd1BhdXNlQnV0dG9uKCkge1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMudWkucGxheSkuaGlkZSgpO1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMudWkucGF1c2UpLnNob3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dQbGF5QnV0dG9uKCkge1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMudWkucGxheSkuc2hvdygpO1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMudWkucGF1c2UpLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdW5kT24odmFsID0gMC41KSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5zZXRWb2x1bWUodmFsKTtcbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLnVpLnNvdW5kKS5zaG93KCk7XG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy51aS5tdXRlKS5oaWRlKCk7XG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy5pbnB1dHMudm9sdW1lSW5wdXQrICcsICcgK3RoaXMub3B0aW9ucy51aS52b2x1bWUpLnZhbCh2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc291bmRPZmYoKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5zZXRWb2x1bWUoMCk7XG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy51aS5zb3VuZCkuc2hvdygpO1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMudWkubXV0ZSkuaGlkZSgpO1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMuaW5wdXRzLnZvbHVtZUlucHV0KyAnLCAnICt0aGlzLm9wdGlvbnMudWkudm9sdW1lKS52YWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNoYW5nZVZvbHVtZSh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNldFZvbHVtZSh2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlVm9sdW1lKHZhbCkge1xuICAgICAgICAgICAgdGhpcy52b2x1bWUgPSB2YWw7XG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy51aS52b2x1bWUgKyAnLCAnICsgdGhpcy5vcHRpb25zLmlucHV0cy52b2x1bWVJbnB1dCkudmFsKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVByb2dyZXNzKHNlYykge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHNlYztcbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLmlucHV0cy5wcm9ncmVzc0lucHV0ICsgJywgJyArIHRoaXMub3B0aW9ucy51aS5wcm9ncmVzcykudmFsKHNlYyk7XG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy51aS5jdXJyZW50VGltZSkudGV4dCh0aGlzLnRvSEhNTVNTKE1hdGgucm91bmQoc2VjKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9ISE1NU1Moc2Vjcykge1xuICAgICAgICAgICAgdmFyIHNlY19udW0gPSBwYXJzZUludChzZWNzLCAxMCk7XG4gICAgICAgICAgICB2YXIgaG91cnMgICA9IE1hdGguZmxvb3Ioc2VjX251bSAvIDM2MDApO1xuICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY19udW0gLyA2MCkgJSA2MDtcbiAgICAgICAgICAgIHZhciBzZWNvbmRzID0gc2VjX251bSAlIDYwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gW2hvdXJzLG1pbnV0ZXMsc2Vjb25kc11cbiAgICAgICAgICAgIC5tYXAodiA9PiB2IDwgMTAgPyAnMCcgKyB2IDogdilcbiAgICAgICAgICAgIC5maWx0ZXIoKHYsaSkgPT4gdiAhPT0gJzAwJyB8fCBpID4gMClcbiAgICAgICAgICAgIC5qb2luKCc6Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpc01vYmlsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiR3aW5kb3cud2lkdGgoKSA8IDc2ODtcbiAgICAgICAgfVxuXG4gICAgICAgIG1heWJlUGF1c2VNb2JpbGVCZ1ZpZGVvKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJG1vYmlsZUJnVmlkZW8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRtb2JpbGVCZ1ZpZGVvWzBdLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRtb2JpbGVCZ1ZpZGVvWzBdLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEluaXRpYWxpemF0aW9uXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlkZW9fUGxheWVyKGlkLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgICBcbn0pKFxualF1ZXJ5LCBcbid2aW1lbycsXG57XG4gICAgdmltZW86IHtcbiAgICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgIGNvbnRyb2xzOiBmYWxzZVxuICAgIH0sXG4gICAgaW5wdXRzOiB7XG4gICAgICAgIHByb2dyZXNzSW5wdXQ6ICcjc2V0VGltZScsXG4gICAgICAgIHZvbHVtZUlucHV0OiAnLnZvbHVtZScsXG4gICAgfSxcbiAgICB1aToge1xuICAgICAgICBwcm9ncmVzczogJy5jdXJyZW50UGxheScsXG4gICAgICAgIHZvbHVtZTogJy52b2x1bWVQcm9nJyxcbiAgICAgICAgY3VycmVudFRpbWU6ICcuc3RhdHVzJyxcbiAgICAgICAgdG90YWxUaW1lOiAnLnRvdGFsLXRpbWUnLFxuICAgICAgICBzb3VuZDogJy5zcGVha2VyIC5zb3VuZCcsXG4gICAgICAgIG11dGU6ICcuc3BlYWtlciAubXV0ZScsXG4gICAgICAgIHBsYXk6ICcucGxheScsXG4gICAgICAgIHZpZGVvQ292ZXI6ICcudmlkZW8tY292ZXItaW1hZ2UnLFxuICAgICAgICBwYXVzZTogJy5wYXVzZSdcbiAgICB9XG59LFxualF1ZXJ5KHdpbmRvdyksXG5qUXVlcnkoJy5tb2JpbGUtY292ZXItdmlkZW8nKSxcbmpRdWVyeSgnLmJhY2stbGluaycpXG4pO1xuXG59LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbigkLCBzZWxlY3Rvcikge1xuICAgIGNsYXNzIFZpZGVvX1NlY3Rpb24ge1xuICAgICAgICBjb25zdHJ1Y3RvcigkZWxlbWVudCkge1xuICAgICAgICAgICAgLy9TdGF0ZVxuICAgICAgICAgICAgdGhpcy4kc2VjdGlvbiA9ICRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kd2luZG93ID0gJCh3aW5kb3cpO1xuICAgICAgICAgICAgdGhpcy4kc3RpY2t5VG9nZ2xlID0gdGhpcy4kc2VjdGlvbi5maW5kKCcudmlkZW8tY2F0ZWdvcnktZmlsdGVyLWxpc3Qtc3RpY2t5LXRvZ2dsZScpO1xuICAgICAgICAgICAgdGhpcy4kc3RpY2t5RmlsdGVyTGlzdCA9IHRoaXMuJHNlY3Rpb24uZmluZCgnLnZpZGVvLWNhdGVnb3J5LWZpbHRlci1saXN0LXN0aWNreScpO1xuICAgICAgICAgICAgdGhpcy4kdG9wRmlsdGVyc0xpc3QgPSB0aGlzLiRzZWN0aW9uLmZpbmQoJy52aWRlby1jYXRlZ29yeS1maWx0ZXItbGlzdCcpLmZpcnN0KCk7XG4gICAgICAgICAgICB0aGlzLiRmaWx0ZXJzID0gdGhpcy4kc2VjdGlvbi5maW5kKCcudmlkZW8tZmlsdGVyJyk7XG4gICAgXG4gICAgICAgICAgICAvLyBFdmVudHNcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KHRoaXMubWF5YmVTZWxlY3RGaWx0ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLiR3aW5kb3cub24oJ2xvYWQgc2Nyb2xsJywgdGhpcy5tYXliZVNjcm9sbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuJHN0aWNreVRvZ2dsZS5vbignY2xpY2snLCB0aGlzLnRvZ2dsZU9uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLiRzZWN0aW9uLm9uKCdhamF4LWxvYWRlZCcsIHRoaXMucmVmcmVzaE9mZnNldC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuJHdpbmRvdy5vbignbG9hZCBzY3JvbGwgcmVzaXplJywgdGhpcy53aW5kb3dPbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuJHdpbmRvdy5vbigncmVzaXplJywgdGhpcy5yZWZyZXNoT2Zmc2V0LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy4kZmlsdGVycy5vbignY2xpY2snLCB0aGlzLmZpbHRlcnNPbkNsaWNrLmJpbmQodGhpcykpO1xuICAgIFxuICAgICAgICAgICAgLy8gSW5pdFxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoT2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlZnJlc2hPZmZzZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnRvcE9mZnNldCA9IHRoaXMuJHRvcEZpbHRlcnNMaXN0Lm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIHRoaXMuYm90dG9tT2Zmc2V0ID0gdGhpcy4kc2VjdGlvbi5vZmZzZXQoKS50b3AgKyB0aGlzLiRzZWN0aW9uLmhlaWdodCgpICsgMTYwO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHRvZ2dsZU9uQ2xpY2soKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc3RpY2t5RmlsdGVyTGlzdC5oYXNDbGFzcygndmlkZW8tY2F0ZWdvcnktZmlsdGVyLWxpc3Qtc3RpY2t5LS12aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVGaWx0ZXJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy53aW5kb3dPbkNoYW5nZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dGaWx0ZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHdpbmRvd09uQ2hhbmdlKCkge1xuICAgICAgICAgICAgdmFyIHdpbmRvd1RvcFRyaWdnZXIgPSB0aGlzLiR3aW5kb3cuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICB2YXIgd2luZG93Qm90dG9tVHJpZ2dlciA9IHdpbmRvd1RvcFRyaWdnZXIgKyB0aGlzLiR3aW5kb3cuaGVpZ2h0KCk7XG4gICAgXG4gICAgICAgICAgICAvLyBNb2JpbGUgb25seVxuICAgICAgICAgICAgaWYgKHRoaXMuJHdpbmRvdy53aWR0aCgpID4gNzY3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlVG9nZ2xlKClcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVGaWx0ZXJzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKHdpbmRvd1RvcFRyaWdnZXIgPiB0aGlzLnRvcE9mZnNldCAmJiB3aW5kb3dCb3R0b21UcmlnZ2VyIDwgdGhpcy5ib3R0b21PZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2dnbGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlVG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRmlsdGVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGZpbHRlcnNPbkNsaWNrKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFNsdWcgPSAkdGhpcy5kYXRhKCd2aWRlby1jYXRlZ29yeS1zbHVnJyk7XG4gICAgICAgICAgICB2YXIgJHNhbWVGaWx0ZXJzID0gdGhpcy4kc2VjdGlvbi5maW5kKGBbZGF0YS12aWRlby1jYXRlZ29yeS1zbHVnPVwiJHtzZWxlY3RlZFNsdWd9XCJdYCk7XG4gICAgICAgICAgICB2YXIgJGFqYXhDb250YWluZXIgPSB0aGlzLiRzZWN0aW9uLmZpbmQoJy5hamF4LXJlbG9hZC12aWRlb3MnKTtcbiAgICAgICAgICAgIHZhciBpc0FjdGl2ZSA9ICRzYW1lRmlsdGVycy5oYXNDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB2YXIgY2F0QXJyID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuJGZpbHRlcnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgJHNhbWVGaWx0ZXJzLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBjYXRBcnIucHVzaChzZWxlY3RlZFNsdWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTYXZlIHNlbGVjdGVkIGZpbHRlclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndmlkZW8tY2F0ZWdvcnktZmlsdGVyJywgSlNPTi5zdHJpbmdpZnkoY2F0QXJyKSk7XG5cbiAgICAgICAgICAgICRhamF4Q29udGFpbmVyLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmwgOiB0aGVfYWpheF9zY3JpcHQuYWpheHVybCxcbiAgICAgICAgICAgICAgICB0eXBlIDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgICAgICdhY3Rpb24nIDogJ2ZpbHRlcl9ieV92aWRlb19jYXRlZ29yeScsXG4gICAgICAgICAgICAgICAgICAgICd2aWRlbycgOiBjYXRBcnJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICRhamF4Q29udGFpbmVyLmh0bWwocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAkYWpheENvbnRhaW5lci5yZW1vdmVDbGFzcygnYWN0aXZlJykgO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZWN0aW9uLnRyaWdnZXIoJ2FqYXgtbG9hZGVkJylcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbWF5YmVTZWxlY3RGaWx0ZXIoKSB7XG4gICAgICAgICAgICBsZXQgcmV0dXJuZWQgPSBCb29sZWFuKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3JldHVybmVkLWZyb20tc2luZ2xlLXZpZGVvJykpO1xuICAgICAgICAgICAgbGV0IGZpbHRlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3ZpZGVvLWNhdGVnb3J5LWZpbHRlcicpO1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkU2x1ZztcblxuICAgICAgICAgICAgLy8gQ2xlYW51cFxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndmlkZW8tY2F0ZWdvcnktZmlsdGVyJylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJldHVybmVkICYmIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTbHVnID0gSlNPTi5wYXJzZShmaWx0ZXIpWzBdO1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBmaWx0ZXJcbiAgICAgICAgICAgICAgICB0aGlzLiR0b3BGaWx0ZXJzTGlzdC5maW5kKGBbZGF0YS12aWRlby1jYXRlZ29yeS1zbHVnPVwiJHtzZWxlY3RlZFNsdWd9XCJdYCkuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1heWJlU2Nyb2xsKCkge1xuICAgICAgICAgICAgbGV0IHJldHVybmVkID0gQm9vbGVhbihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyZXR1cm5lZC1mcm9tLXNpbmdsZS12aWRlbycpKTtcblxuICAgICAgICAgICAgaWYgKHJldHVybmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kd2luZG93LnNjcm9sbFRvcCh0aGlzLiRzZWN0aW9uLm9mZnNldCgpLnRvcCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENsZWFudXBcbiAgICAgICAgICAgIC8vIFRpbWVvdXQgd3JhcHBlciBuZWVkIGZvciBmaXhpbmcgd2luZG93IGZpcnN0IHNlY29uZCBzY3JvbGwgdG8gdG9wXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3JldHVybmVkLWZyb20tc2luZ2xlLXZpZGVvJyksIDEwMDApO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHNob3dGaWx0ZXJzKCkge1xuICAgICAgICAgICAgdGhpcy4kc3RpY2t5RmlsdGVyTGlzdC5hZGRDbGFzcygndmlkZW8tY2F0ZWdvcnktZmlsdGVyLWxpc3Qtc3RpY2t5LS12aXNpYmxlJyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaGlkZUZpbHRlcnMoKSB7XG4gICAgICAgICAgICB0aGlzLiRzdGlja3lGaWx0ZXJMaXN0LnJlbW92ZUNsYXNzKCd2aWRlby1jYXRlZ29yeS1maWx0ZXItbGlzdC1zdGlja3ktLXZpc2libGUnKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBzaG93VG9nZ2xlKCkge1xuICAgICAgICAgICAgdGhpcy4kc3RpY2t5VG9nZ2xlLmFkZENsYXNzKCd2aWRlby1jYXRlZ29yeS1maWx0ZXItbGlzdC1zdGlja3ktdG9nZ2xlLS12aXNpYmxlJyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaGlkZVRvZ2dsZSgpIHtcbiAgICAgICAgICAgIHRoaXMuJHN0aWNreVRvZ2dsZS5yZW1vdmVDbGFzcygndmlkZW8tY2F0ZWdvcnktZmlsdGVyLWxpc3Qtc3RpY2t5LXRvZ2dsZS0tdmlzaWJsZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6YXRpb25cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgJChzZWxlY3RvcikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmlkZW9fU2VjdGlvbigkKHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnksICcudmlkZW8tbGlzdC1zZWN0aW9uJyk7XG59LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnJlcXVpcmUoJy4vY2xhc3MtdmlkZW8tc2VjdGlvbicpO1xucmVxdWlyZSgnLi9jbGFzcy12aWRlby1wbGF5ZXInKTtcblxuO1xuKGZ1bmN0aW9uICgkKSB7XG5cblxuXHQvLyByZXNpemUgdmlkZW9cblx0dmFyIHZpZGVvSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhlcm9WaWRlbyA9ICQoJy5oZXJvLXNlY3Rpb24gLmhlcm8tdmlkZW8nKSA7XG5cdFx0dmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5pbm5lckhlaWdodCgpIDtcblx0XHR2YXIgb3JhbmdlRnJhbWVQYWRkaW5nID0gJCgnLmhlcm8tc2VjdGlvbicpLm91dGVySGVpZ2h0KCkgLSAkKCcuaGVyby1zZWN0aW9uJykuaGVpZ2h0KCkgO1xuXHRcdHZhciBwYXBlckZyYW1lUGFkZGluZyA9ICQoJy5oZXJvLXNlY3Rpb24gLmxpZ2h0LWZyYW1lJykub3V0ZXJIZWlnaHQoKSAtICQoJy5oZXJvLXNlY3Rpb24gLmxpZ2h0LWZyYW1lJykuaGVpZ2h0KCkgO1xuXHRcdC8vIHZhciB0aXRsZU1hcmdpbiA9ICBwYXJzZUludCgkKCcuaGVyby1zZWN0aW9uIC5jdXN0b20taGVhZGluZycpLmNzcygnbWFyZ2luVG9wJykpIDtcblx0XHR2YXIgdGl0bGVIZWlnaHQgPSAkKCcuaGVyby1zZWN0aW9uIC5jdXN0b20taGVhZGluZycpLmhlaWdodCgpIDtcblx0XHR2YXIgbWF4SGVpZ2h0ID0gd2luZG93SGVpZ2h0IC0gb3JhbmdlRnJhbWVQYWRkaW5nIC0gcGFwZXJGcmFtZVBhZGRpbmcgLSAodGl0bGVIZWlnaHQgKyAxNikgO1xuXG5cdFx0aGVyb1ZpZGVvLmNzcyh7IFwiaGVpZ2h0XCI6IG1heEhlaWdodCAgfSk7XG5cdH0sXG5cdGRpZFJlc2l6ZSA9IGZhbHNlO1xuXG5cdCQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG5cdFx0ZGlkUmVzaXplID0gdHJ1ZTtcblx0fSk7XG5cdHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdGlmKGRpZFJlc2l6ZSkge1xuXHRcdFx0ZGlkUmVzaXplID0gZmFsc2U7XG5cdFx0XHR2aWRlb0hlaWdodCgpO1xuXHRcdH1cblx0fSwgMTUwKTtcblxuXG5cdC8vIHJlc2l6ZSBpbWFnZVxuXHR2YXIgaW1hZ2VIZWlnaHQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaGVyb1ZpZGVvID0gJCgnLnJlc2l6ZS1pbWcgLmhlcm8taW1hZ2UnKSA7XG5cdFx0dmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSA7XG5cdFx0dmFyIG9yYW5nZUZyYW1lUGFkZGluZyA9ICQoJy5yZXNpemUtaW1nJykub3V0ZXJIZWlnaHQoKSAtICQoJy5yZXNpemUtaW1nJykuaGVpZ2h0KCkgO1xuXHRcdHZhciBwYXBlckZyYW1lUGFkZGluZyA9ICQoJy5yZXNpemUtaW1nIC5saWdodC1mcmFtZScpLm91dGVySGVpZ2h0KCkgLSAkKCcucmVzaXplLWltZyAubGlnaHQtZnJhbWUnKS5oZWlnaHQoKSA7XG5cdFx0dmFyIHRpdGxlTWFyZ2luID0gcGFyc2VJbnQoJCgnLnJlc2l6ZS1pbWcgLmN1c3RvbS1oZWFkaW5nJykuY3NzKCdtYXJnaW5Cb3R0b20nKSkgO1xuXHRcdHZhciB0aXRsZU1hcmdpblRvcCA9IHBhcnNlSW50KCQoJy5yZXNpemUtaW1nIC5jdXN0b20taGVhZGluZycpLmNzcygnbWFyZ2luVG9wJykpIDtcblx0XHR2YXIgdGl0bGVIZWlnaHQgPSAkKCcucmVzaXplLWltZyAuY3VzdG9tLWhlYWRpbmcnKS5oZWlnaHQoKSA7XG5cdFx0dmFyIG1heEhlaWdodCA9IHdpbmRvd0hlaWdodCAtIG9yYW5nZUZyYW1lUGFkZGluZyAtIHBhcGVyRnJhbWVQYWRkaW5nIC0gdGl0bGVIZWlnaHQgLSB0aXRsZU1hcmdpbiAtIHRpdGxlTWFyZ2luVG9wO1xuXG5cdFx0aGVyb1ZpZGVvLmNzcyh7XCJtYXgtaGVpZ2h0XCI6IG1heEhlaWdodCwgXCJoZWlnaHRcIjogbWF4SGVpZ2h0IH0pO1xuXHR9LFxuXHRyZXNpemVJbWFnZSA9IGZhbHNlO1xuXG5cdCQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG5cdFx0cmVzaXplSW1hZ2UgPSB0cnVlO1xuXHR9KTtcblx0c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0aWYocmVzaXplSW1hZ2UpIHtcblx0XHRcdHJlc2l6ZUltYWdlID0gZmFsc2U7XG5cdFx0XHRpbWFnZUhlaWdodCgpO1xuXHRcdH1cblx0fSwgMTUwKTtcblxuXG5cblx0dmFyIG1pbkhlaWdodFZpZGVvSW5mbyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB2aWRlb1JvdyA9ICQoJy52aWRlby1pbmZvIC52aWRlby1yb3cnKSA7XG5cdFx0dmFyIHJlbGF0ZWRWaWRlb0hlaWdodCA9ICQoJy52aWRlby1pbmZvIC5yZWxhdGVkLXZpZGVvJykub3V0ZXJIZWlnaHQoKSA7XG5cdFx0dmFyIHZpZGVvVGV4dEhlaWdodCA9ICQoJy52aWRlby1pbmZvIC52aWRlby10ZXh0Jykub3V0ZXJIZWlnaHQoKSA7XG5cdFx0dmFyIG1heEhlaWdodCA9IE1hdGgubWF4KHJlbGF0ZWRWaWRlb0hlaWdodCx2aWRlb1RleHRIZWlnaHQpIDtcblx0XHR2aWRlb1Jvdy5jc3Moe1wibWluLWhlaWdodFwiOiBtYXhIZWlnaHR9KTtcblx0fSxcblx0cmVzaXplVmlkZW8gPSBmYWxzZTtcblxuXHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuXHRcdHJlc2l6ZVZpZGVvID0gdHJ1ZTtcblx0fSk7XG5cdHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdGlmKHJlc2l6ZVZpZGVvKSB7XG5cdFx0XHRyZXNpemVWaWRlbyA9IGZhbHNlO1xuXHRcdFx0bWluSGVpZ2h0VmlkZW9JbmZvKCk7XG5cdFx0fVxuXHR9LCAxNTApO1xuXG5cblxuXHR2YXIgaGVpZ2h0MTAwdmggPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2VjdGlvbiA9ICQoJy5oZWlnaHQtMTAwdmgnKSA7XG5cdFx0bGV0IHZoID0gd2luZG93LmlubmVySGVpZ2h0IDtcblx0XHRzZWN0aW9uLmNzcyh7XCJtaW4taGVpZ2h0XCI6IHZoKydweCd9KTtcblx0fVxuXG5cblxuICAgIC8vIFNjcmlwdHMgd2hpY2ggcnVucyBhZnRlciBET00gbG9hZFxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgXHR2aWRlb0hlaWdodCgpIDtcbiAgICBcdGltYWdlSGVpZ2h0KCkgO1xuICAgIFx0bWluSGVpZ2h0VmlkZW9JbmZvKCkgO1xuICAgIFx0aGVpZ2h0MTAwdmgoKSA7XG5cblxuICAgIFx0dmFyIHRpbWVkZWxheSA9IDE7XG4gICAgXHR2YXIgX2RlbGF5ID0gc2V0SW50ZXJ2YWwoZGVsYXlDaGVjaywgNTAwKTtcbiAgICBcdHZhciBzaG93T25Nb3ZlID0gJCgnLnNob3ctb24tbW92ZScpO1xuXG4gICAgXHQkKGRvY3VtZW50KS5vbignbW91c2Vtb3ZlJywgc2hvd0FsbEV2ZW50KTtcblxuICAgIFx0ZnVuY3Rpb24gZGVsYXlDaGVjaygpIHtcbiAgICBcdFx0aWYgKHRpbWVkZWxheSA9PSA0KSB7XG4gICAgXHRcdFx0c2hvd09uTW92ZS5mYWRlT3V0KCk7XG4gICAgXHRcdFx0dGltZWRlbGF5ID0gMTtcbiAgICBcdFx0fVxuICAgIFx0XHR0aW1lZGVsYXkgPSB0aW1lZGVsYXkgKyAxO1xuICAgIFx0fVxuXG4gICAgXHRmdW5jdGlvbiBzaG93QWxsRXZlbnQoKSB7XG4gICAgXHRcdHNob3dPbk1vdmUuZmFkZUluKCk7XG4gICAgXHRcdHRpbWVkZWxheSA9IDE7XG4gICAgXHRcdGNsZWFySW50ZXJ2YWwoX2RlbGF5KTtcbiAgICBcdFx0X2RlbGF5ID0gc2V0SW50ZXJ2YWwoZGVsYXlDaGVjaywgNTAwKTtcbiAgICBcdH1cblxuICAgIFx0aWYgKCQoJyNmaWxlJykubGVuZ3RoID4gMCkge1xuICAgIFx0XHRjb25zdCBmaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGUnKTtcbiAgICBcdFx0ZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICBcdFx0XHRcdC8vIEdldCB0aGUgc2VsZWN0ZWQgZmlsZVxuICBcdFx0XHRcdGNvbnN0IFtmaWxlXSA9IGUudGFyZ2V0LmZpbGVzO1xuICBcdFx0XHRcdC8vIEdldCB0aGUgZmlsZSBuYW1lIGFuZCBzaXplXG4gIFx0XHRcdFx0Y29uc3QgeyBuYW1lOiBmaWxlTmFtZSwgc2l6ZSB9ID0gZmlsZTtcbiAgXHRcdFx0XHQvLyBDb252ZXJ0IHNpemUgaW4gYnl0ZXMgdG8ga2lsbyBieXRlc1xuICBcdFx0XHRcdGNvbnN0IGZpbGVTaXplID0gKHNpemUgLyAxMDAwKS50b0ZpeGVkKDIpO1xuICBcdFx0XHRcdC8vIFNldCB0aGUgdGV4dCBjb250ZW50XG4gIFx0XHRcdFx0Y29uc3QgZmlsZU5hbWVBbmRTaXplID0gYCR7ZmlsZU5hbWV9IC0gJHtmaWxlU2l6ZX1LQmA7XG4gIFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbGUtbmFtZScpLnRleHRDb250ZW50ID0gZmlsZU5hbWVBbmRTaXplO1xuICBcdFx0XHR9KSA7XG4gICAgXHR9XG5cbiAgICBcdCQoJy53cGNmNy1mb3JtIHNlbGVjdCcpLnNlbGVjdHJpYygpO1xuXG5cblxuICAgIFx0JCgnI25hdi1pY29uMicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgXHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnb3BlbicpO1xuICAgIFx0XHQkKCcudG9wLWJhcicpLnNsaWRlVG9nZ2xlKCk7XG4gICAgXHR9KTtcblxuXG4gICAgXHQkKCcubWVudS1saXN0LWl0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXHRcdHZhciB0ZXh0SUQgPSAkKHRoaXMpLmRhdGEoJ2lkJykgO1xuICAgIFx0XHR2YXIgdGhpc1RleHQgPSAkKCcjbGlzdC1pdGVtLXRleHQtaWQtJyt0ZXh0SUQpIDtcbiAgICBcdFx0JCgnLm1lbnUtbGlzdC1pdGVtJykubm90KHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKSA7XG4gICAgXHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgIFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIFx0XHR9IGVsc2Uge1xuICAgIFx0XHRcdCQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIFx0XHR9XG4gICAgXHRcdCQoJy5saXN0LWl0ZW0tdGV4dCcpLm5vdCh0aGlzVGV4dCkuaGlkZSgpO1xuICAgIFx0XHQkKCcjbGlzdC1pdGVtLXRleHQtaWQtJyt0ZXh0SUQpLnNob3coKTtcbiAgICBcdH0pO1xuXG5cblxuICAgIFx0JCgnLnNob3ctcmVsYXRlZC12aWRlbycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgXHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcdFx0dmFyIHRleHRTdGFydCA9ICQodGhpcykuZGF0YSgndGV4dC0xJykgO1xuICAgIFx0XHR2YXIgdGV4dENoYW5nZSA9ICQodGhpcykuZGF0YSgndGV4dC0yJykgO1xuICAgIFx0XHQkKHRoaXMpLnRleHQoZnVuY3Rpb24oaSwgdGV4dCl7XG4gICAgXHRcdFx0cmV0dXJuIHRleHQgPT09IHRleHRTdGFydCA/IHRleHRDaGFuZ2UgOiB0ZXh0U3RhcnQ7XG4gICAgXHRcdH0pXG4gICAgXHRcdCQoJy52aWRlby10ZXh0JykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuICAgIFx0XHQkKCcucmVsYXRlZC12aWRlbycpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBcdH0pO1xuXG4gICAgXHQkKCcubW9iaWxlLXNob3ctdmlkZW8taW5mbycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgXHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcdFx0JCgnLm1vYmlsZS1zaG93LXJlbGF0ZWQtdmlkZW8nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgXHRcdCQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIFx0XHQkKCcudmlkZW8tdGV4dCcpLnNsaWRlRG93bigpO1xuICAgIFx0XHQkKCcucmVsYXRlZC12aWRlbycpLnNsaWRlVXAoKTtcbiAgICBcdH0pO1xuXG5cbiAgICBcdCQoJy5tb2JpbGUtaGlkZS12aWRlby1pbmZvJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICBcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFx0XHQkKCcudmlkZW8tdGV4dCcpLnNsaWRlVXAoKTtcbiAgICBcdFx0JCgnLm1vYmlsZS1zaG93LXZpZGVvLWluZm8nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgXHR9KTtcblxuICAgIFx0JChkb2N1bWVudClcbiAgICBcdC5vbignbW91c2VvdmVyJywnLnZpZGVvLWxpc3QtaXRlbS1jb250ZW50JywgZnVuY3Rpb24gKGUpIHtcbiAgICBcdFx0dmFyICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIFx0XHQkdGhpcy5maW5kKFwidmlkZW9cIilbMF0ucGxheSgpO1xuICAgIFx0XHQkdGhpcy5maW5kKCdpbWcnKS5zdG9wKCkuZmFkZU91dCgpIDtcbiAgICBcdH0pXG4gICAgXHQub24oJ21vdXNlbGVhdmUnLCAnLnZpZGVvLWxpc3QtaXRlbS1jb250ZW50JywgZnVuY3Rpb24gKGUpIHtcbiAgICBcdFx0dmFyICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIFx0XHR2YXIgZWwgPSAkdGhpcy5maW5kKFwidmlkZW9cIilbMF07XG4gICAgXHRcdGVsLnBhdXNlKCk7XG4gICAgXHRcdCR0aGlzLmZpbmQoJ2ltZycpLnN0b3AoKS5mYWRlSW4oKSA7XG4gICAgXHR9KTtcblxuXG4gICAgXHQkKGRvY3VtZW50KVxuICAgIFx0Lm9uKCdjbGljaycsICcudmlkZW8tbGlzdC1pdGVtLWNvbnRlbnQnLCBmdW5jdGlvbiAoZSkge1xuICAgIFx0XHRpZiAoISgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkgfHwgJCh0aGlzKS5oYXNDbGFzcygnaXMtbW9iaWxlLWhvdmVyZWQnKSkgIHJldHVybjtcblxuICAgIFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXHRcdCQodGhpcykuYWRkQ2xhc3MoJ2lzLW1vYmlsZS1ob3ZlcmVkJyk7XG4gICAgXHR9KVxuICAgIFx0Lm9uKCdibHVyJywgJy52aWRlby1saXN0LWl0ZW0tY29udGVudCcsIGZ1bmN0aW9uKCkge1xuICAgIFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1tb2JpbGUtaG92ZXJlZCcpO1xuICAgIFx0fSk7XG5cblxuXG4gICAgXHQkKCcubW9iaWxlLXNob3ctcmVsYXRlZC12aWRlbycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgXHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcdFx0JCgnLm1vYmlsZS1zaG93LXZpZGVvLWluZm8nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgXHRcdCQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIFx0XHQkKCcudmlkZW8tdGV4dCcpLnNsaWRlVXAoKTtcbiAgICBcdFx0JCgnLnJlbGF0ZWQtdmlkZW8nKS5zbGlkZURvd24oKS5hZGRDbGFzcygnY2xlYXJmaXgnKTtcbiAgICBcdH0pO1xuXG4gICAgXHQkKCcubW9iaWxlLWhpZGUtcmVsYXRlZC12aWRlbycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgXHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcdFx0JCgnLnJlbGF0ZWQtdmlkZW8nKS5zbGlkZVVwKCk7XG4gICAgXHRcdCQoJy5tb2JpbGUtc2hvdy1yZWxhdGVkLXZpZGVvJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIFx0XHQkKCcubW9iaWxlLXNob3ctcmVsYXRlZC12aWRlbycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBcdH0pO1xuXG5cblxuXG4gICAgXHQvLyAkKCcub3Blbi1zdWJtZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBcdC8vIFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFx0Ly8gXHQkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCcuc3VibWVudScpLnNsaWRlVG9nZ2xlKCk7XG4gICAgXHQvLyBcdCQodGhpcykuY2xvc2VzdCgnbGknKS5maW5kKCc+IGEnKS50b2dnbGVDbGFzcygnZm9jdXNlZCcpXG4gICAgXHQvLyB9KTtcblxuXG4gICAgICAgIC8vIFNjcm9sbCB0byBJRFxuXG5cbiAgICAgICAgJCgnYVtocmVmKj1cIiNcIl06bm90KFtkYXRhLWZhbmN5Ym94XScpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBcdHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIFx0dmFyIGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJyk7XG4gICAgICAgIFx0dmFyIGN1cnJlbnRfdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIFx0dmFyIGJsb2NrX2lkID0gaHJlZi5zcGxpdChcIiNcIikucG9wKCk7XG4gICAgICAgIFx0dmFyIGJsb2NrID0gJCgnIycgKyBibG9ja19pZCk7XG4gICAgICAgIFx0aWYgKGhyZWYgIT0gJyMnICYmIGJsb2NrLmxlbmd0aCkge1xuICAgICAgICBcdFx0aWYgKChocmVmLnNwbGl0KCcjJylbMF0gPT0gY3VycmVudF91cmwuc3BsaXQoJyMnKVswXSkgfHwgKGhyZWYuaW5kZXhPZignIycpID09IDApKSB7XG4gICAgICAgIFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIFx0XHRcdCQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgXHRcdFx0XHRzY3JvbGxUb3A6IGJsb2NrLm9mZnNldCgpLnRvcCAsXG4gICAgICAgIFx0XHRcdH0sIDUwMCk7XG4gICAgICAgIFx0XHR9XG4gICAgICAgIFx0fVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJCgnLm1vYmlsZS1jb3Zlci12aWRlbycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXHQkKCcucGxheS1mb3ItbW9iaWxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0XHQkKCcubW9iaWxlLWNvdmVyLXZpZGVvJylbMF0ucGF1c2UoKSA7XG4gICAgICAgIFx0fSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCdbZGF0YS1mYW5jeWJveF0nKS5mYW5jeWJveCh7XG4gICAgICAgIFx0eW91dHViZSA6IHtcbiAgICAgICAgXHRcdHNob3dpbmZvIDogMFxuICAgICAgICBcdH0sXG4gICAgICAgIFx0dmltZW8gOiB7XG4gICAgICAgIFx0XHRjb2xvciA6ICdmMDAnXG4gICAgICAgIFx0fSxcbiAgICAgICAgXHRhZnRlckNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXHRcdGlmICgkKCcubW9iaWxlLWNvdmVyLXZpZGVvJykubGVuZ3RoID4gMCkge1xuICAgICAgICBcdFx0XHQkKCcubW9iaWxlLWNvdmVyLXZpZGVvJylbMF0ucGxheSgpIDtcbiAgICAgICAgXHRcdH1cbiAgICAgICAgXHR9XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICAvLyBTY3JpcHRzIHdoaWNoIHJ1bnMgYWZ0ZXIgYWxsIGVsZW1lbnRzIGxvYWRcblxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiBcdFx0Ly9qUXVlcnkgY29kZSBnb2VzIGhlcmVcbiBcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuIFx0XHRcdCQoJy5wcmVsb2FkZXInKS5hZGRDbGFzcygncHJlbG9hZGVyLS1oaWRkZW4nKTtcbiBcdFx0XHQvLyAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ25vLXNjcm9sbCcpO1xuIFx0XHRcdC8vICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJyk7XG5cbiBcdFx0fSwgMTUwMCk7XG5cblxuXG5cbiBcdH0pO1xuXG4gICAgLy8gU2NyaXB0cyB3aGljaCBydW5zIGF0IHdpbmRvdyByZXNpemVcblxuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8valF1ZXJ5IGNvZGUgZ29lcyBoZXJlXG5cbiAgICB9KTtcbiAgICAvLyByZXF1aXJlKCcuLy4uLy4uL3RlbXBsYXRlL2Jsb2NrL3Jldmlld3Mtc2xpZGVyLXNlY3Rpb24vc2NyaXB0cycpIDtcblxufShqUXVlcnkpKTtcblxufSx7XCIuL2NsYXNzLXZpZGVvLXBsYXllclwiOjEsXCIuL2NsYXNzLXZpZGVvLXNlY3Rpb25cIjoyfV19LHt9LFszXSkiXX0=
